<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div class="menu-container"></div>
    <script>
        function Container() {
            this.id = "";
            this.className = "";
            this.element = "";
        }
        Container.prototype.render = function () {
            return this.element;
        }
        Container.prototype.remove = function () {
            this.element.remove();
        }
        function Menu(my_id, my_class, my_selector) {
            Container.call(this);
            this.id = my_id;
            this.className = my_class;
            this.items = [];
            this.container = document.querySelector(my_selector) || false;
        }

        Menu.prototype = Object.create(Container.prototype);
        Menu.prototype.constructor = Menu;
        Menu.prototype.add = function(item){
            this.items.push(item);
            if(this.element)this.element.appendChild(item.render())

        }
        Menu.prototype.render = function () {
            const ulEl = document.createElement('ul');
            ulEl.id = this.id;
            ulEl.classList.add(this.className);
            for(item in this.items){
                ulEl.appendChild(this.items[item].render())
            }

            if(this.container)this.container.appendChild(ulEl);
            this.element = ulEl;
            return ulEl;

        }

        function MenuItem(my_href, my_name, my_submenu) {
            Container.call(this);
            this.className = "menu-item";
            this.href = my_href;
            this.name = my_name;
            this.submenu = my_submenu ? my_submenu.render() : false;  // menu item can have submenu
        }
        MenuItem.prototype = Object.create(Container.prototype);
        MenuItem.prototype.constructor = MenuItem;
        MenuItem.prototype.add = function(submenu){
            this.submenu = submenu.render();
            this.element.appendChild(this.submenu);
        }        
        MenuItem.prototype.render = function () {
            const liEl = document.createElement('li');
            const aEl = document.createElement('a');
            liEl.classList.add(this.className);
            aEl.href = this.href;
            aEl.innerText = this.name;
            liEl.appendChild(aEl);
            this.element = liEl;
            if(this.submenu)this.element.appendChild(this.submenu)
            return this.element;

        }



        const submenu2 = new Menu('submenu2','submenu2');
        submenu2.add(new MenuItem('/gal/1','gal'));
        submenu2.add(new MenuItem('/gal/2','gal'));

        const submenu1 = new Menu('submenu1','submenu1');
        submenu1.add(new MenuItem('/cat/1','type1',submenu2));
        submenu1.add(new MenuItem('/cat/2','type2'));

        const menu =  new Menu('menu','menu','.menu-container');
        menu.add(new MenuItem("/home",'home'));
        menu.add(new MenuItem("/catalog",'catalog',submenu1));
        menu.add(new MenuItem("/about",'about'));
        menu.render();

    </script>
    
</body>

</html>